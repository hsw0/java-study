---
spring.application.name: apiserver

spring.main.banner-mode: OFF

logging.config: classpath:logback-main.xml
logging.level:
  ROOT: INFO
  io.syscall: DEBUG

server:
  shutdown: GRACEFUL
  forward-headers-strategy: NATIVE

  # Based on AWS ALB's
  # https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-limits.html
  netty.max-initial-line-length: 16KB
  max-http-request-header-size: 64KB # The maximum length of all headers.


management:
  endpoints.enabled-by-default: false
  endpoints.web:
    base-path: /internal
    discovery.enabled: false
    exposure.include: "*"
    path-mapping:
      prometheus: metrics
      beans: /actuator/beans
      configprops: /actuator/configprops
      mappings: /actuator/mappings
  endpoint:
    prometheus.enabled: true

---
spring.config.activate.on-profile: local

management.endpoint:
  beans.enabled: true
  mappings.enabled: true
  configprops.enabled: true
  configprops.show-values: ALWAYS

custom.netty.webserver:
  use-virtual-thread: false
